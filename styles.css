/* === Theme / layout === */
:root{
  --bg:#0a0f1a; --bg2:#0c1424; --panel:rgba(18,25,39,.68);
  --border:#1f2b40; --text:#eaf1fb; --muted:#9fb1cc;
  --acc1:#36a8ff; --acc2:#6a5cff; --glow:#36a8ff55;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  color:var(--text); font:15px/1.45 system-ui,Segoe UI,Roboto,Arial;
  background:
    radial-gradient(1200px 800px at 100% -10%, #1b2a42 0%, transparent 60%),
    radial-gradient(1000px 600px at -10% 110%, #13253f 0%, transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg2));
  animation:bgMove 14s linear infinite alternate;
}
@keyframes bgMove{to{background-position:10% 0, 90% 100%, 0 0}}
.app{max-width:820px;margin:0 auto;padding:18px;height:100dvh;display:flex;flex-direction:column;gap:14px;animation:fadeIn .25s ease-out}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}}

.card{background:var(--panel);border:1px solid var(--border);border-radius:18px;padding:16px;display:flex;flex-direction:column;gap:12px;position:relative;overflow:hidden;box-shadow:0 10px 30px #0005,inset 0 1px 0 #fff1;backdrop-filter:saturate(120%) blur(8px)}
.card::before{content:"";position:absolute;inset:0;pointer-events:none;background:linear-gradient(130deg,transparent,#fff2,transparent 60%);mix-blend-mode:overlay;opacity:.35}
.hidden{display:none!important}
h1,h2{margin:0 0 10px}
h1{font-size:22px;letter-spacing:.2px}
h2{font-size:18px;color:var(--muted)}
.grid{display:grid;gap:10px;grid-template-columns:repeat(2,1fr)}
@media (min-width:640px){.grid{grid-template-columns:repeat(3,1fr)}}
@media (max-width:380px){.grid{grid-template-columns:1fr}}

input,button{width:100%;border-radius:12px;border:1px solid var(--border);color:var(--text);background:#0f1728;padding:12px 14px;transition:transform .12s ease,box-shadow .2s ease,border-color .2s ease,background .2s ease}
input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f622;background:#0f1b30}
button{position:relative;cursor:pointer;background:linear-gradient(135deg,var(--acc1),var(--acc2));border:0;font-weight:700;box-shadow:0 6px 18px #0007,0 0 0 0 var(--glow)}
button:hover{transform:translateY(-1px);box-shadow:0 10px 24px #0008,0 0 0 6px var(--glow)}
button:active{transform:translateY(0);box-shadow:0 6px 18px #0007,0 0 0 0 var(--glow)}
button::after{content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;background:radial-gradient(200px 200px at var(--rx,50%) var(--ry,50%),#fff3,transparent 40%);opacity:0;transition:opacity .6s ease}
button.rippling::after{opacity:1}
label{display:block;margin:8px 0 2px;color:var(--muted)}
pre{white-space:pre-wrap;background:#0a111b;border:1px solid #132033;border-radius:12px;padding:12px;color:#dbe8ff}

.chat{flex:1;min-height:180px;overflow:auto;display:flex;flex-direction:column;gap:10px;padding:10px;background:#0a111b;border:1px solid #132033;border-radius:14px}
.bubble{max-width:95%;padding:10px 12px;border-radius:14px;font-size:14px;line-height:1.35;animation:bub .25s ease both;box-shadow:0 6px 16px #0007}
@keyframes bub{from{opacity:0;transform:translateY(6px)}}
.bubble .meta{opacity:.7;font-size:12px;margin-top:4px}
.b-user{align-self:flex-end;background:linear-gradient(135deg,#1d2e48,#13253f);border:1px solid #274165}
.b-admin{align-self:flex-start;background:linear-gradient(135deg,#1c3a22,#142818);border:1px solid #2e4a32}
.b-system{align-self:center;background:linear-gradient(135deg,#212636,#161b29);border:1px solid #2b3547}
.row{display:flex;gap:10px;margin-top:8px;flex-wrap:wrap}

/* Roulette (CS:GO case style) */
.case-wrap{position:relative;height:124px;border:1px solid #132033;border-radius:14px;background:linear-gradient(180deg,#0d1628,#0a111b);overflow:hidden;box-shadow:inset 0 1px 0 #fff1,0 6px 16px #0007}
#case-strip{position:absolute;left:0;top:0;height:100%;display:flex;gap:10px;will-change:transform;padding:12px}
.case-tile{min-width:120px;height:100%;border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#0f1728;border:1px solid #20314a;box-shadow:inset 0 1px 0 #fff1,0 4px 10px #0006;font-weight:800;font-size:18px;letter-spacing:.3px}
.case-tile .icon{font-size:28px;margin-bottom:4px;filter:drop-shadow(0 0 6px #5aa2ff66)}
#case-pointer{position:absolute;left:50%;top:0;bottom:0;width:0}
#case-pointer::after{content:"";position:absolute;left:-1px;top:0;bottom:0;width:2px;background:linear-gradient(180deg,transparent,#4fa0ff,transparent);box-shadow:0 0 10px #4fa0ff88}
.ru-result{margin-top:8px;font-size:16px}

/* Notify */
.notify-root{position:fixed; right:12px; top:12px; z-index:1000; display:flex; flex-direction:column; gap:10px; pointer-events:none}
.notif{min-width:240px; max-width:340px; pointer-events:auto; border-radius:12px; padding:12px 14px; font-weight:600; background:#0f1728; border:1px solid #20314a; color:#eaf1fb; box-shadow:0 10px 24px #000a, inset 0 1px 0 #fff2; display:flex; gap:10px; align-items:flex-start; position:relative; animation:notif-in .18s ease-out both}
.notif .title{font-size:14px;margin-bottom:4px;opacity:.9}
.notif .msg{font-size:13px;opacity:.85}
.notif .x{position:absolute; right:8px; top:8px; width:26px; height:26px; border-radius:8px; border:1px solid #2a3960; background:#0b1324; color:#9fb1cc; cursor:pointer; display:grid; place-items:center; font-weight:800}
.notif.info{border-color:#245ba3}
.notif.success{border-color:#1f6d3a; background:linear-gradient(180deg,#0e1f17,#0b1511)}
.notif.error{border-color:#7b2c2c; background:linear-gradient(180deg,#1a1010,#120b0b)}
@keyframes notif-in{from{opacity:0;transform:translateY(-6px)}}
.notify-modal{position:fixed; inset:0; z-index:1001; display:grid; place-items:center}
.notify-modal.hidden{display:none}
.notify-backdrop{position:absolute; inset:0; background:#0008; backdrop-filter:blur(2px)}
.notify-dialog{position:relative; z-index:1; width:min(92vw,420px); background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:16px; box-shadow:0 18px 50px #000a, inset 0 1px 0 #fff2}
.notify-title{font-weight:800; margin-bottom:8px}
.notify-content{opacity:.9; margin-bottom:12px}
.notify-btn{width:100%; border:0; border-radius:12px; padding:12px; background:linear-gradient(135deg,var(--acc1),var(--acc2)); color:#fff; font-weight:800}

/* Privileges */
.priv-summary{padding:10px;border:1px solid var(--border);border-radius:12px;background:#0a111b}
.plans{display:grid;grid-template-columns:1fr;gap:12px}
@media (min-width:680px){.plans{grid-template-columns:repeat(3,1fr)}}
.plan{background:#0f1728;border:1px solid #20314a;border-radius:16px;padding:14px;display:flex;flex-direction:column;gap:10px;box-shadow:inset 0 1px 0 #fff1}
.plan-badge{font-size:12px;color:#a6ceff;background:#0b1324;border:1px solid #274165;border-radius:999px;padding:4px 8px;width:max-content}
.plan-badge.muted{opacity:.8;border-color:#38445f}
.plan-title{font-weight:800;font-size:16px}
.plan-feats{margin:0;padding-left:18px;display:flex;flex-direction:column;gap:4px}
.plan-price{font-weight:900;font-size:18px}
.plan-note{font-size:12px;opacity:.75}

/* === Responsive container === */
.app{
  max-width:960px;
  margin:0 auto;
  padding:16px;
  min-height:100vh; height:100vh;
  display:flex; flex-direction:column; gap:14px;
}
@supports (height:100svh){
  .app{
    min-height:100svh; height:100svh;
    padding-top:calc(16px + env(safe-area-inset-top));
    padding-bottom:calc(16px + env(safe-area-inset-bottom));
  }
}

/* === Scrollable cards === */
.card{
  max-height:calc(100vh - 32px);
  overflow:auto;
  -webkit-overflow-scrolling:touch;
  overscroll-behavior:contain;
}
@supports (height:100svh){
  .card{ max-height:calc(100svh - 32px); }
}

/* === Back button always reachable === */
.card .back{
  position:sticky;
  bottom:0;
  z-index:1;
  margin-top:8px;
}

/* === Privileges grid === */
.plans{ grid-template-columns:1fr; }
@media (min-width:600px){ .plans{ grid-template-columns:repeat(2,1fr); } }
@media (min-width:900px){ .plans{ grid-template-columns:repeat(3,1fr); } }

/* === Small screens tweaks === */
@media (max-width:480px){
  .app{ padding:12px; }
  .card{ padding:12px; }
  .grid{ grid-template-columns:1fr; }
}

.btn-active,
button[disabled].btn-active{
  background:linear-gradient(135deg,#16a34a,#22c55e);
  cursor:default;
  box-shadow:0 6px 18px #0007,0 0 0 0 #16a34a55;
}
.plan-price.hidden{ display:none }
